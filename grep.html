<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Grep Generator for InDesign</title>
  <link rel="stylesheet" href="styles/main.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@400&display=swap" rel="stylesheet">
  <style>
    body {
      padding-top: var(--spacing-md) !important;
    }
    @media (min-width: 1200px) {
      body {
        padding-top: var(--spacing-lg) !important;
      }
    }
  </style>
</head>
<body>
  <div class="app-wrapper">
    <div class="container">
      <header>
        <div class="header-top">
          <h1>Grep</h1>
          <div class="header-right">
            <a href="#" id="grepInfoLink" class="read-me-link">About GREP</a>
          </div>
        </div>
      </header>

      <form id="grepForm">
        <section class="form-section">
          <h2>Search Type</h2>
          <div class="form-row">
            <div class="form-group">
              <label>
                <input type="radio" name="searchType" value="words" checked>
                <span>Specific Words</span>
              </label>
            </div>
            <div class="form-group">
              <label>
                <input type="radio" name="searchType" value="digits">
                <span>Digits</span>
              </label>
            </div>
            <div class="form-group">
              <label>
                <input type="radio" name="searchType" value="punctuation">
                <span>Punctuation</span>
              </label>
            </div>
            <div class="form-group">
              <label>
                <input type="radio" name="searchType" value="enclosed">
                <span>Content Enclosed by Markers</span>
              </label>
            </div>
          </div>
        </section>

        <section class="form-section" id="wordsSection">
          <h2>Words</h2>
          <div class="form-row">
            <div class="form-group">
              <label for="wordsInput">Enter words (one per line)</label>
              <textarea id="wordsInput" rows="6" placeholder="word1&#10;word2&#10;word3"></textarea>
            </div>
          </div>
        </section>

        <section class="form-section" id="digitsSection" style="display: none;">
          <h2>Digits</h2>
          <div class="form-row">
            <div class="form-group">
              <label for="digitsMin">Minimum digits</label>
              <input type="number" id="digitsMin" value="1" min="1" class="input-small">
            </div>
            <div class="form-group">
              <label for="digitsMax">Maximum digits</label>
              <input type="number" id="digitsMax" value="10" min="1" class="input-small">
            </div>
          </div>
        </section>

        <section class="form-section" id="punctuationSection" style="display: none;">
          <h2>Punctuation</h2>
          <div class="form-row">
            <div class="form-group">
              <label for="punctuationSelect">Punctuation type</label>
              <select id="punctuationSelect">
                <option value="all">All punctuation</option>
                <option value="period">Period (.)</option>
                <option value="comma">Comma (,)</option>
                <option value="semicolon">Semicolon (;)</option>
                <option value="colon">Colon (:)</option>
                <option value="question">Question mark (?)</option>
                <option value="exclamation">Exclamation mark (!)</option>
                <option value="quotes">Quotes (" ")</option>
                <option value="apostrophe">Apostrophe (')</option>
                <option value="hyphen">Hyphen (-)</option>
                <option value="dash">Dash (â€”)</option>
                <option value="parentheses">Parentheses ( )</option>
                <option value="brackets">Brackets [ ]</option>
                <option value="braces">Braces { }</option>
              </select>
            </div>
          </div>
        </section>

        <section class="form-section" id="enclosedSection" style="display: none;">
          <h2>Enclosed Content</h2>
          <div class="form-row">
            <div class="form-group">
              <label for="startMarker">Start marker</label>
              <input type="text" id="startMarker" placeholder="(" class="input-small">
            </div>
            <div class="form-group">
              <label for="endMarker">End marker</label>
              <input type="text" id="endMarker" placeholder=")" class="input-small">
            </div>
          </div>
        </section>

        <section class="form-section">
          <h2>Options</h2>
          <div class="form-row">
            <div class="form-group">
              <label>
                <input type="checkbox" id="caseSensitive">
                <span>Case sensitive</span>
              </label>
            </div>
            <div class="form-group">
              <label>
                <input type="checkbox" id="wholeWord">
                <span>Whole word only</span>
              </label>
            </div>
          </div>
        </section>
      </form>
    </div>

    <div class="preview-wrapper">
      <section class="visualization-section">
        <div class="section-header">
          <h2>Pattern</h2>
        </div>
        <div id="grepOutput" class="grep-output">
          <p class="helper-text">Select a search type and configure options to generate grep pattern</p>
        </div>
        <div id="syntaxExplanation" class="syntax-explanation" style="display: none;">
          <h3 class="syntax-title">Pattern Syntax</h3>
          <div class="syntax-content">
            <p class="syntax-item"><code>\\d</code> - Matches any digit (0-9)</p>
            <p class="syntax-item"><code>\\b</code> - Word boundary (matches start/end of words)</p>
            <p class="syntax-item"><code>|</code> - OR operator (matches one pattern or another)</p>
            <p class="syntax-item"><code>()</code> - Capturing group (groups patterns together)</p>
            <p class="syntax-item"><code>[]</code> - Character class (matches any character inside brackets)</p>
            <p class="syntax-item"><code>\\</code> - Escape character (makes special characters literal)</p>
            <p class="syntax-item"><code>*</code> - Zero or more of preceding element</p>
            <p class="syntax-item"><code>?</code> - Zero or one of preceding element (non-greedy)</p>
            <p class="syntax-item"><code>{n}</code> - Exactly n occurrences</p>
            <p class="syntax-item"><code>{n,m}</code> - Between n and m occurrences</p>
            <p class="syntax-item"><code>^</code> - Negation in character class (matches anything NOT in brackets)</p>
          </div>
        </div>
      </section>
    </div>
  </div>

  <!-- Grep Info Modal -->
  <div id="grepModal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h2>About GREP</h2>
        <button class="modal-close" id="grepModalClose">&times;</button>
      </div>
      <div class="modal-body">
        <div class="modal-section">
          <h3 class="modal-section-title">What is GREP?</h3>
          <p class="modal-section-text">
            GREP (Global Regular Expression Print) is a powerful pattern-matching system used in Adobe InDesign's paragraph style settings. It allows you to automatically format text based on complex patterns rather than manually selecting and formatting each instance.
          </p>
          <p class="modal-section-text">
            In InDesign, GREP styles are applied within paragraph styles to automatically format specific text patterns. This tool generates GREP patterns that you can copy and paste directly into InDesign's GREP Style settings in your paragraph style options.
          </p>
        </div>
        <div class="modal-section">
          <h3 class="modal-section-title">What can you do with GREP in InDesign?</h3>
          <p class="modal-section-text">
            <strong>Format specific words:</strong> Automatically style multiple words at once, with options for case sensitivity and whole word matching. Useful for emphasizing key terms or applying consistent formatting.
          </p>
          <p class="modal-section-text">
            <strong>Format digits:</strong> Style numbers of specific lengths, useful for formatting phone numbers, dates, or other numeric patterns with different fonts or colors.
          </p>
          <p class="modal-section-text">
            <strong>Format punctuation:</strong> Style specific punctuation marks or all punctuation, helpful for applying consistent formatting to quotes, dashes, or other marks.
          </p>
          <p class="modal-section-text">
            <strong>Format enclosed content:</strong> Style text between markers like parentheses, brackets, or custom characters, useful for formatting citations, notes, or other enclosed text.
          </p>
        </div>
        <div class="modal-section">
          <h3 class="modal-section-title">How to use this tool</h3>
          <p class="modal-section-text">
            1. Select a search type (words, digits, punctuation, or enclosed content)
          </p>
          <p class="modal-section-text">
            2. Configure your search options (case sensitivity, whole word, etc.)
          </p>
          <p class="modal-section-text">
            3. Copy the generated pattern
          </p>
          <p class="modal-section-text">
            4. In InDesign, open your paragraph style options, go to the "GREP Style" section, click "New GREP Style", paste the pattern in the "Apply Style" field, and set your case sensitivity preference
          </p>
        </div>
      </div>
    </div>
  </div>

  <script type="module" src="dist/grep.js"></script>
</body>
</html>

